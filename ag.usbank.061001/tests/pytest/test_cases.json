{
 "23": "    @json_dataset('data/dataset_23.json')\n    @clear_session({'spanId': 23})\n    def test_23_post_(self, data_row):\n        H, U, s = data_row\n\n        # GET https://www.usbank.com/index.html (endp 4)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.get('/index.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='Consumer banking | Personal banking | U.S. Bank')\n        u = cssselect('html head link[href] @href', resp)\n\n        # POST https://usbank-app.quantummetric.com/ (endp 23)\n        usbank_app_quantummetric_com = get_http_client('https://usbank-app.quantummetric.com', authenticate)\n        qstr = '?' + urlencode([('H', H), ('N', str(random.randint(0, 1434))), ('P', str(random.randint(0, 15))), ('Q', '2'), ('S', str(random.randint(0, 102475))), ('T', 'B'), ('U', U), ('s', s), ('t', str(int(time.time() * 1000))), ('u', u), ('v', str(int(time.time() * 1000))), ('z', '1')])\n        with open('data/payload_for_endp_23.txt', 'r') as payload_file:\n            payload = payload_file.read()\n        resp = usbank_app_quantummetric_com.post('/' + qstr, data=payload, headers=dict([('content-type', 'text/plain')]))\n        resp.assert_status_code(200)\n\n",
 "24": "    @json_dataset('data/dataset_24.json')\n    @clear_session({'spanId': 24})\n    def test_24_get_(self, data_row):\n        H, Module, Q, Q_CLIENTVERSION, Q_CLIENTVERSION1, Q_InterceptID, Q_ORIGIN, s = data_row\n\n        # GET https://www.usbank.com/index.html (endp 4)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.get('/index.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='Consumer banking | Personal banking | U.S. Bank')\n        Q_LOC = cssselect('html head link[href] @href', resp)\n\n        # GET https://siteintercept.qualtrics.com/WRSiteInterceptEngine/Asset.php (endp 21)\n        siteintercept_qualtrics_com = get_http_client('https://siteintercept.qualtrics.com', authenticate)\n        qstr = '?' + urlencode([('Module', Module), ('Q_CLIENTTYPE', 'web'), ('Q_CLIENTVERSION', Q_CLIENTVERSION), ('Q_InterceptID', Q_InterceptID), ('Q_ORIGIN', Q_ORIGIN), ('Version', str(random.randint(1, 26)))])\n        resp = siteintercept_qualtrics_com.get('/WRSiteInterceptEngine/Asset.php' + qstr)\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$.CreativeDefinition.Options.Message.Headline.Text', expected_value='Will you take our survey?')\n        Q_ZoneID = jsonpath('$.CreativeDefinition.ZoneID', resp)\n\n        # POST https://siteintercept.qualtrics.com/WRSiteInterceptEngine/Targeting.php (endp 22)\n        qstr = '?' + urlencode([('Q_CLIENTTYPE', 'web'), ('Q_CLIENTVERSION', Q_CLIENTVERSION1), ('Q_ZoneID', Q_ZoneID)])\n        resp = siteintercept_qualtrics_com.post('/WRSiteInterceptEngine/Targeting.php' + qstr, data=[('Q_LOC', Q_LOC)])\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$.ClientSideIntercepts[*].LogicTree.Left.Left.Type', expected_value='LogicNode')\n\n        # GET https://usbank-app.quantummetric.com/ (endp 24)\n        usbank_app_quantummetric_com = get_http_client('https://usbank-app.quantummetric.com', authenticate)\n        qstr = '?' + urlencode([('H', H), ('Q', Q), ('s', s)])\n        resp = usbank_app_quantummetric_com.get('/' + qstr)\n        resp.assert_status_code(200)\n\n",
 "25": "    @json_dataset('data/dataset_25.json')\n    @clear_session({'spanId': 25})\n    def test_25_post_(self, data_row):\n        Module, Q_CLIENTVERSION, Q_CLIENTVERSION1, Q_InterceptID, Q_ORIGIN, X, s = data_row\n\n        # GET https://www.usbank.com/index.html (endp 4)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.get('/index.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='Consumer banking | Personal banking | U.S. Bank')\n        Q_LOC = cssselect('html head link[href] @href', resp)\n        u = cssselect('html head link[href] @href', resp)\n\n        # GET https://siteintercept.qualtrics.com/WRSiteInterceptEngine/Asset.php (endp 21)\n        siteintercept_qualtrics_com = get_http_client('https://siteintercept.qualtrics.com', authenticate)\n        qstr = '?' + urlencode([('Module', Module), ('Q_CLIENTTYPE', 'web'), ('Q_CLIENTVERSION', Q_CLIENTVERSION), ('Q_InterceptID', Q_InterceptID), ('Q_ORIGIN', Q_ORIGIN), ('Version', str(random.randint(1, 26)))])\n        resp = siteintercept_qualtrics_com.get('/WRSiteInterceptEngine/Asset.php' + qstr)\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$.CreativeDefinition.Options.Message.Headline.Text', expected_value='Will you take our survey?')\n        Q_ZoneID = jsonpath('$.CreativeDefinition.ZoneID', resp)\n\n        # POST https://siteintercept.qualtrics.com/WRSiteInterceptEngine/Targeting.php (endp 22)\n        qstr = '?' + urlencode([('Q_CLIENTTYPE', 'web'), ('Q_CLIENTVERSION', Q_CLIENTVERSION1), ('Q_ZoneID', Q_ZoneID)])\n        resp = siteintercept_qualtrics_com.post('/WRSiteInterceptEngine/Targeting.php' + qstr, data=[('Q_LOC', Q_LOC)])\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$.ClientSideIntercepts[*].LogicTree.Left.Left.Type', expected_value='LogicNode')\n\n        # POST https://usbank-sync.quantummetric.com/ (endp 25)\n        usbank_sync_quantummetric_com = get_http_client('https://usbank-sync.quantummetric.com', authenticate)\n        qstr = '?' + urlencode([('Q', '1'), ('T', 'B'), ('X', X), ('Y', '1'), ('s', s), ('t', str(int(time.time() * 1000))), ('u', u), ('v', str(int(time.time() * 1000))), ('z', '1')])\n        with open('data/payload_for_endp_25.txt', 'r') as payload_file:\n            payload = payload_file.read()\n        resp = usbank_sync_quantummetric_com.post('/' + qstr, data=payload, headers=dict([('content-type', 'text/plain')]))\n        resp.assert_status_code(200)\n\n",
 "43": "    @json_dataset('data/dataset_43.json')\n    @clear_session({'spanId': 43})\n    def test_43_get_param(self, data_row):\n        param, = data_row\n\n        # GET https://locations.usbank.com/{param} (endp 43)\n        locations_usbank_com = get_http_client('https://locations.usbank.com', authenticate)\n        resp = locations_usbank_com.get(f'/{param}')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='Location Search')\n\n",
 "37": "    @json_dataset('data/dataset_37.json')\n    @clear_session({'spanId': 37})\n    def test_37_post_param_v1_applications(self, data_row):\n        description, offerTypeCode, param, productCode, sourceCode, subProductCode, subtype, x_requested_with = data_row\n\n        # POST https://onboarding.usbank.com/{param}/v1/applications (endp 37)\n        onboarding_usbank_com = get_http_client('https://onboarding.usbank.com', authenticate)\n        with open('data/payload_for_endp_37.json', 'r') as json_payload_file:\n            json_payload = json.load(json_payload_file)\n        apply_into_json(json_payload, '$.products[*].cardInformation.offerTypeCode', offerTypeCode)\n        apply_into_json(json_payload, '$.products[*].cardInformation.sourceCode', sourceCode)\n        apply_into_json(json_payload, '$.products[*].description', description)\n        apply_into_json(json_payload, '$.products[*].productCode', productCode)\n        apply_into_json(json_payload, '$.products[*].subProductCode', subProductCode)\n        apply_into_json(json_payload, '$.products[*].subtype', subtype)\n        resp = onboarding_usbank_com.post(f'/{param}/v1/applications', json=json_payload, headers=dict([('x-requested-with', x_requested_with)]))\n        resp.assert_status_code(201)\n        resp.assert_jsonpath('$.applicants[*].addresses.primary.country', expected_value='US')\n\n",
 "38": "    @json_dataset('data/dataset_38.json')\n    @clear_session({'spanId': 38})\n    def test_38_post_param_v1_applications_applicationId_patch(self, data_row):\n        countriesOfCitizenship, description, email_, lastName, monthlyHousingPayment, number, offerTypeCode, op, param, path, productCode, sourceCode, subProductCode, subtype, x_requested_with = data_row\n\n        # POST https://onboarding.usbank.com/{param}/v1/applications (endp 37)\n        onboarding_usbank_com = get_http_client('https://onboarding.usbank.com', authenticate)\n        with open('data/payload_for_endp_37.json', 'r') as json_payload_file:\n            json_payload = json.load(json_payload_file)\n        apply_into_json(json_payload, '$.products[*].cardInformation.offerTypeCode', offerTypeCode)\n        apply_into_json(json_payload, '$.products[*].cardInformation.sourceCode', sourceCode)\n        apply_into_json(json_payload, '$.products[*].description', description)\n        apply_into_json(json_payload, '$.products[*].productCode', productCode)\n        apply_into_json(json_payload, '$.products[*].subProductCode', subProductCode)\n        apply_into_json(json_payload, '$.products[*].subtype', subtype)\n        resp = onboarding_usbank_com.post(f'/{param}/v1/applications', json=json_payload, headers=dict([('x-requested-with', x_requested_with)]))\n        resp.assert_status_code(201)\n        resp.assert_jsonpath('$.applicants[*].addresses.primary.country', expected_value='US')\n        applicationId = jsonpath('$.applicationId', resp)\n        securitytoken = get_data_from_header('securitytoken', resp)\n\n        # POST https://onboarding.usbank.com/{param}/v1/applications/{applicationId}/patch (endp 38)\n        with open('data/payload_for_endp_38.json', 'r') as json_payload_file:\n            json_payload = json.load(json_payload_file)\n        apply_into_json(json_payload, '$[*].op', op)\n        apply_into_json(json_payload, '$[*].path', path)\n        apply_into_json(json_payload, '$[*].value.countriesOfCitizenship[*]', countriesOfCitizenship)\n        apply_into_json(json_payload, '$[*].value.lastName', lastName)\n        apply_into_json(json_payload, '$[*].value.monthlyHousingPayment', monthlyHousingPayment)\n        apply_into_json(json_payload, '$[*].value.number', number)\n        apply_into_json(json_payload, '$[*].value.personal.email', email_)\n        resp = onboarding_usbank_com.post(f'/{param}/v1/applications/{applicationId}/patch', json=json_payload, headers=dict([('securitytoken', securitytoken), ('x-requested-with', 'X-Requested-With')]))\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$.applicants[*].addresses.primary.country', expected_value='US')\n\n",
 "73": "    @json_dataset('data/dataset_73.json')\n    @clear_session({'spanId': 73})\n    def test_73_get_param_v1_applications_environment(self, data_row):\n        param, = data_row\n\n        # GET https://onboarding.usbank.com/{param}/v1/applications/environment (endp 73)\n        onboarding_usbank_com = get_http_client('https://onboarding.usbank.com', authenticate)\n        resp = onboarding_usbank_com.get(f'/{param}/v1/applications/environment', headers=dict([('x-requested-with', 'XMLHttpRequest')]))\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$.name', expected_value='onboarding-application-intake')\n\n",
 "45": "    @json_dataset('data/dataset_45.json')\n    @clear_session({'spanId': 45})\n    def test_45_post_param1_xwNT_param2_mpdLQ_param3_param4_IFsXW_param5(self, data_row):\n        param, param1, param2, param3, param4, sensor_data = data_row\n\n        # POST https://onlinebanking.usbank.com/{param1}/xwNT/{param2}/mpdLQ/{param3}/{param4}/IFsXW/{param5} (endp 45)\n        onlinebanking_usbank_com = get_http_client('https://onlinebanking.usbank.com', authenticate)\n        with open('data/payload_for_endp_45.json', 'r') as json_payload_file:\n            json_payload = json.load(json_payload_file)\n        apply_into_json(json_payload, '$.sensor_data', sensor_data)\n        resp = onlinebanking_usbank_com.post(f'/{param}/xwNT/{param1}/mpdLQ/{param2}/{param3}/IFsXW/{param4}', json=json_payload)\n        resp.assert_status_code(201)\n\n",
 "71": "    @json_dataset('data/dataset_71.json')\n    @clear_session({'spanId': 71})\n    def test_71_post_KrNCmr_param1_param2_param3_param4_param5_param6_param7(self, data_row):\n        param, param1, param2, param3, param4, param5, param6, sensor_data = data_row\n\n        # POST https://onboarding.usbank.com/KrNCmr/{param1}/{param2}/{param3}/{param4}/{param5}/{param6}/{param7} (endp 71)\n        onboarding_usbank_com = get_http_client('https://onboarding.usbank.com', authenticate)\n        with open('data/payload_for_endp_71.json', 'r') as json_payload_file:\n            json_payload = json.load(json_payload_file)\n        apply_into_json(json_payload, '$.sensor_data', sensor_data)\n        resp = onboarding_usbank_com.post(f'/KrNCmr/{param}/{param1}/{param2}/{param3}/{param4}/{param5}/{param6}', json=json_payload)\n        resp.assert_status_code(201)\n\n",
 "46": "    # authentication-related test\n    @clear_session({'spanId': 46})\n    def test_46_get_OLS_LoginAssist_RetriveId(self):\n        # GET https://onlinebanking.usbank.com/OLS/LoginAssist/RetriveId (endp 46)\n        onlinebanking_usbank_com = get_http_client('https://onlinebanking.usbank.com', dummy_auth)\n        resp = onlinebanking_usbank_com.get('/OLS/LoginAssist/RetriveId')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('div.mainBodyWidth div.body-content.bodyDiv div div.la__touchnav-container a', expected_value='Help')\n        resp.assert_cssselect('html head title', expected_value='Login Assistance')\n\n",
 "47": "    @clear_session({'spanId': 47})\n    def test_47_get_OLS_Public_Enrollment_Index(self):\n        # GET https://onlinebanking.usbank.com/OLS/Public/Enrollment/Index (endp 47)\n        onlinebanking_usbank_com = get_http_client('https://onlinebanking.usbank.com', authenticate)\n        qstr = '?' + urlencode([('isPartnerOLB', 'true')])\n        resp = onlinebanking_usbank_com.get('/OLS/Public/Enrollment/Index' + qstr)\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='Enrollment')\n\n",
 "20": "    @json_dataset('data/dataset_20.json')\n    @clear_session({'spanId': 20})\n    def test_20_post_WRSiteInterceptEngine_(self, data_row):\n        BrandDC, Module, Q_CLIENTVERSION, Q_CLIENTVERSION1, Q_CLIENTVERSION2, Q_InterceptID, Q_ORIGIN = data_row\n\n        # GET https://www.usbank.com/index.html (endp 4)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.get('/index.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='Consumer banking | Personal banking | U.S. Bank')\n        Q_LOC = cssselect('html head link[href] @href', resp)\n\n        # GET https://siteintercept.qualtrics.com/WRSiteInterceptEngine/Asset.php (endp 21)\n        siteintercept_qualtrics_com = get_http_client('https://siteintercept.qualtrics.com', authenticate)\n        qstr = '?' + urlencode([('Module', Module), ('Q_CLIENTTYPE', 'web'), ('Q_CLIENTVERSION', Q_CLIENTVERSION), ('Q_InterceptID', Q_InterceptID), ('Q_ORIGIN', Q_ORIGIN), ('Version', str(random.randint(1, 26)))])\n        resp = siteintercept_qualtrics_com.get('/WRSiteInterceptEngine/Asset.php' + qstr)\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$.CreativeDefinition.Options.Message.Headline.Text', expected_value='Will you take our survey?')\n        Q_ZoneID = jsonpath('$.CreativeDefinition.ZoneID', resp)\n\n        # POST https://siteintercept.qualtrics.com/WRSiteInterceptEngine/Targeting.php (endp 22)\n        qstr = '?' + urlencode([('Q_CLIENTTYPE', 'web'), ('Q_CLIENTVERSION', Q_CLIENTVERSION1), ('Q_ZoneID', Q_ZoneID)])\n        resp = siteintercept_qualtrics_com.post('/WRSiteInterceptEngine/Targeting.php' + qstr, data=[('Q_LOC', Q_LOC)])\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$.ClientSideIntercepts[*].LogicTree.Left.Left.Type', expected_value='LogicNode')\n        Q_ASID = jsonpath('$.ClientSideIntercepts[*].ActionSets[*].ActionSetID', resp)\n        Q_CID = url_part('?Q_CID', jsonpath('$.ClientSideIntercepts[*].ActionSets[*].Target.*', resp))\n        Q_SIID = url_part('?Q_SIID', jsonpath('$.ClientSideIntercepts[*].ActionSets[*].Target.*', resp))\n        SurveyID = url_part('/3', jsonpath('$.ClientSideIntercepts[*].ActionSets[*].Target.OriginalURL', resp))\n\n        # POST https://siteintercept.qualtrics.com/WRSiteInterceptEngine/ (endp 20)\n        qstr = '?' + urlencode([('Q_ASID', Q_ASID), ('Q_CID', Q_CID), ('Q_CLIENTTYPE', 'web'), ('Q_CLIENTVERSION', Q_CLIENTVERSION2), ('Q_Impress', '1'), ('Q_SIID', Q_SIID), ('r', str(int(time.time() * 1000)))])\n        resp = siteintercept_qualtrics_com.post('/WRSiteInterceptEngine/' + qstr, data=[('BrandDC', BrandDC), ('BrandID', 'usbank'), ('SurveyID', SurveyID)])\n        resp.assert_status_code(200)\n\n",
 "21": "    @json_dataset('data/dataset_21.json')\n    @clear_session({'spanId': 21})\n    def test_21_get_WRSiteInterceptEngine_Asset_php(self, data_row):\n        Module, Q_CLIENTVERSION, Q_InterceptID, Q_ORIGIN = data_row\n\n        # GET https://siteintercept.qualtrics.com/WRSiteInterceptEngine/Asset.php (endp 21)\n        siteintercept_qualtrics_com = get_http_client('https://siteintercept.qualtrics.com', authenticate)\n        qstr = '?' + urlencode([('Module', Module), ('Q_CLIENTTYPE', 'web'), ('Q_CLIENTVERSION', Q_CLIENTVERSION), ('Q_InterceptID', Q_InterceptID), ('Q_ORIGIN', Q_ORIGIN), ('Version', str(random.randint(1, 26)))])\n        resp = siteintercept_qualtrics_com.get('/WRSiteInterceptEngine/Asset.php' + qstr)\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$.CreativeDefinition.Options.Message.Headline.Text', expected_value='Will you take our survey?')\n\n",
 "22": "    @json_dataset('data/dataset_22.json')\n    @clear_session({'spanId': 22})\n    def test_22_post_WRSiteInterceptEngine_Targeting_php(self, data_row):\n        Module, Q_CLIENTVERSION, Q_CLIENTVERSION1, Q_InterceptID, Q_ORIGIN = data_row\n\n        # GET https://www.usbank.com/index.html (endp 4)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.get('/index.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='Consumer banking | Personal banking | U.S. Bank')\n        Q_LOC = cssselect('html head link[href] @href', resp)\n\n        # GET https://siteintercept.qualtrics.com/WRSiteInterceptEngine/Asset.php (endp 21)\n        siteintercept_qualtrics_com = get_http_client('https://siteintercept.qualtrics.com', authenticate)\n        qstr = '?' + urlencode([('Module', Module), ('Q_CLIENTTYPE', 'web'), ('Q_CLIENTVERSION', Q_CLIENTVERSION), ('Q_InterceptID', Q_InterceptID), ('Q_ORIGIN', Q_ORIGIN), ('Version', str(random.randint(1, 26)))])\n        resp = siteintercept_qualtrics_com.get('/WRSiteInterceptEngine/Asset.php' + qstr)\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$.CreativeDefinition.Options.Message.Headline.Text', expected_value='Will you take our survey?')\n        Q_ZoneID = jsonpath('$.CreativeDefinition.ZoneID', resp)\n\n        # POST https://siteintercept.qualtrics.com/WRSiteInterceptEngine/Targeting.php (endp 22)\n        qstr = '?' + urlencode([('Q_CLIENTTYPE', 'web'), ('Q_CLIENTVERSION', Q_CLIENTVERSION1), ('Q_ZoneID', Q_ZoneID)])\n        resp = siteintercept_qualtrics_com.post('/WRSiteInterceptEngine/Targeting.php' + qstr, data=[('Q_LOC', Q_LOC)])\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$.ClientSideIntercepts[*].LogicTree.Left.Left.Type', expected_value='LogicNode')\n\n",
 "1": "    @clear_session({'spanId': 1})\n    def test_01_get_about_us_bank_customer_service_html(self):\n        # GET https://www.usbank.com/about-us-bank/customer-service.html (endp 1)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.get('/about-us-bank/customer-service.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='Customer service | U.S. Bank')\n\n",
 "36": "    @json_dataset('data/dataset_36.json')\n    @clear_session({'spanId': 36})\n    def test_36_get_apply_apply_html(self, data_row):\n        PRODUCT_CODE, = data_row\n\n        # GET https://apply.usbank.com/apply/apply.html (endp 36)\n        apply_usbank_com = get_http_client('https://apply.usbank.com', authenticate)\n        qstr = '?' + urlencode([('PRODUCT_CODE', PRODUCT_CODE), ('SUB_PRODUCT_CODE', 'PI')])\n        resp = apply_usbank_com.get('/apply/apply.html' + qstr)\n        resp.assert_status_code(302)\n\n",
 "2": "    @clear_session({'spanId': 2})\n    def test_02_get_bank_accounts_checking_accounts_html(self):\n        # GET https://www.usbank.com/bank-accounts/checking-accounts.html (endp 2)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.get('/bank-accounts/checking-accounts.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('dialog.dialog.shield-zipcodes[name=\"#saveXZip\"] div.content div.heading.large h1', expected_value='Zip Code')\n        resp.assert_cssselect('html head title', expected_value='Checking accounts | Open a Personal Checking Account | U.S. Bank')\n\n",
 "3": "    @clear_session({'spanId': 3})\n    def test_03_get_bank_accounts_checking_accounts_gold_checking_account_html(self):\n        # GET https://www.usbank.com/bank-accounts/checking-accounts/gold-checking-account.html (endp 3)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.get('/bank-accounts/checking-accounts/gold-checking-account.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('section.pubIns.productDetailsPage div div.bodyContent.container-fluid div.row div.bannerResponsiveGrid div div.aem-Grid div.banner.parbase.aem-GridColumn div.USBDesignSystem--Shield.USBHero div div.USBHero__Container.clearfix div.clearfix div.text div div.textContainer h1', expected_value='U.S. BANK GOLD CHECKING PACKAGE')\n        resp.assert_cssselect('html head title', expected_value='Gold Checking account | Personal Checking account | U.S. Bank')\n\n",
 "74": "    @json_dataset('data/dataset_74.json')\n    @clear_session({'spanId': 74})\n    def test_74_get_cards_cardId_param1_param2_intro(self, data_row):\n        cardId, param, param1 = data_row\n\n        # GET https://onboarding.usbank.com/cards/{cardId}/{param1}/{param2}/intro (endp 74)\n        onboarding_usbank_com = get_http_client('https://onboarding.usbank.com', authenticate)\n        resp = onboarding_usbank_com.get(f'/cards/{cardId}/{param}/{param1}/intro')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='U.S. Bank Credit Card')\n\n",
 "69": "    @json_dataset('data/dataset_69.json')\n    @clear_session({'spanId': 69})\n    def test_69_get_connect_param(self, data_row):\n        param, = data_row\n\n        # GET https://cardrewards.usbank.com/connect/{param} (endp 69)\n        cardrewards_usbank_com = get_http_client('https://cardrewards.usbank.com', authenticate)\n        resp = cardrewards_usbank_com.get(f'/connect/{param}')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='Rewards Calculator')\n\n",
 "81": "    @clear_session({'spanId': 81})\n    def test_81_get_corporate_and_commercial_banking_solutions_credit_and_financing_html(self):\n        # GET https://www.usbank.com/corporate-and-commercial-banking/solutions/credit-and-financing.html (endp 81)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.get('/corporate-and-commercial-banking/solutions/credit-and-financing.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('a#continue', expected_value='Continue')\n\n",
 "49": "    @clear_session({'spanId': 49})\n    def test_49_get_credit_cards_href(self):\n        # GET https://www.usbank.com/index.html (endp 4)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.get('/index.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='Consumer banking | Personal banking | U.S. Bank')\n        href = url_part('/2', cssselect('div.USBContent main.bodyContent div.aem-Grid div.responsivegrid.aem-GridColumn div.aem-Grid div.banner.parbase.aem-GridColumn div.USBHero div div div div div a[href] @href', resp))\n        c3ch = url_part('?c3ch', cssselect('div.USBContent main.bodyContent div.aem-Grid div.responsivegrid.aem-GridColumn div.aem-Grid div.banner.parbase.aem-GridColumn div.USBHero div div div div div a[href] @href', resp))\n        c3nid = url_part('?icid', cssselect('div.USBContent main.bodyContent div.aem-Grid div.responsivegrid.aem-GridColumn div.aem-Grid div.banner.parbase.aem-GridColumn div.USBHero div div div div div a[href] @href', resp))\n        icid = url_part('?icid', cssselect('div.USBContent main.bodyContent div.aem-Grid div.responsivegrid.aem-GridColumn div.aem-Grid div.banner.parbase.aem-GridColumn div.USBHero div div div div div a[href] @href', resp))\n\n        # GET https://www.usbank.com/credit-cards/{href} (endp 49)\n        qstr = '?' + urlencode([('c3ch', c3ch), ('c3nid', c3nid), ('icid', icid)])\n        resp = www_usbank_com.get(f'/credit-cards/{href}' + qstr)\n        resp.assert_status_code(200)\n        resp.assert_cssselect('a#continue', expected_value='Continue')\n\n",
 "39": "    @json_dataset('data/dataset_39.json')\n    @clear_session({'spanId': 39})\n    def test_39_get_deposits_depositId_PI_start(self, data_row):\n        depositId, = data_row\n\n        # GET https://onboarding.usbank.com/deposits/{depositId}/PI/start (endp 39)\n        onboarding_usbank_com = get_http_client('https://onboarding.usbank.com', authenticate)\n        resp = onboarding_usbank_com.get(f'/deposits/{depositId}/PI/start')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='U.S. Bank Checking')\n\n",
 "50": "    @clear_session({'spanId': 50})\n    def test_50_get_home_loans_mortgage_first_time_home_buyers_html(self):\n        # GET https://www.usbank.com/home-loans/mortgage/first-time-home-buyers.html (endp 50)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.get('/home-loans/mortgage/first-time-home-buyers.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('section.pubIns div.bodyContent.container-fluid div.row.minHeightSection div div.aem-Grid div.containerComp.parbase.aem-GridColumn div.containerComponent.smallPaddingTopDT.smallPaddingRightDT.smallPaddingBottomDT.smallPaddingLeftDT.smallPaddingTopMob.smallPaddingRightMob.noneBottomMob.smallPaddingLeftMob.gray div div.aem-Grid div.text.parbase.aem-GridColumn h3', expected_value='Featured articles')\n\n",
 "4": "    @clear_session({'spanId': 4})\n    def test_04_get_index_html(self):\n        # GET https://www.usbank.com/index.html (endp 4)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.get('/index.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='Consumer banking | Personal banking | U.S. Bank')\n\n",
 "5": "    @json_dataset('data/dataset_5.json')\n    @clear_session({'spanId': 5})\n    def test_05_post_plpXRb_YlO_param1_param2_param3_param4_aEs_aeId(self, data_row):\n        aeId, param, param1, param2, param3, sensor_data = data_row\n\n        # POST https://www.usbank.com/plpXRb/YlO/{param1}/{param2}/{param3}/{param4}/aEs/{aeId} (endp 5)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        with open('data/payload_for_endp_5.json', 'r') as json_payload_file:\n            json_payload = json.load(json_payload_file)\n        apply_into_json(json_payload, '$.sensor_data', sensor_data)\n        resp = www_usbank_com.post(f'/plpXRb/YlO/{param}/{param1}/{param2}/{param3}/aEs/{aeId}', json=json_payload)\n        resp.assert_status_code(201)\n\n",
 "41": "    @json_dataset('data/dataset_41.json')\n    @clear_session({'spanId': 41})\n    def test_41_get_product_configuration_v1_products_usbank_param_PI(self, data_row):\n        param, = data_row\n\n        # GET https://sales.usbank.com/product-configuration/v1/products/usbank/{param}/PI (endp 41)\n        sales_usbank_com = get_http_client('https://sales.usbank.com', authenticate)\n        resp = sales_usbank_com.get(f'/product-configuration/v1/products/usbank/{param}/PI', headers=dict([('x-requested-with', 'X-Requested-With')]))\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$.tenant', expected_value='usbank')\n\n",
 "75": "    @json_dataset('data/dataset_75.json')\n    @clear_session({'spanId': 75})\n    def test_75_post_proxies_v1_param(self, data_row):\n        icsLocationCode, offerID, param, sourceCode = data_row\n\n        # POST https://onboarding.usbank.com/proxies/v1/{param} (endp 75)\n        onboarding_usbank_com = get_http_client('https://onboarding.usbank.com', authenticate)\n        with open('data/payload_for_endp_75.json', 'r') as json_payload_file:\n            json_payload = json.load(json_payload_file)\n        apply_into_json(json_payload, '$.icsLocationCode', icsLocationCode)\n        apply_into_json(json_payload, '$.offerID', offerID)\n        apply_into_json(json_payload, '$.sourceCode', sourceCode)\n        resp = onboarding_usbank_com.post(f'/proxies/v1/{param}', json=json_payload, headers=dict([('x-requested-with', 'XMLHttpRequest')]))\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$.ratesAndFeesResponse.productDetailData.productVariableData[*].productName', expected_value='U.S. Bank Altitude\u00c2\u00ae Connect Visa Signature\u00c2\u00ae Card')\n\n",
 "76": "    @json_dataset('data/dataset_76.json')\n    @clear_session({'spanId': 76})\n    def test_76_post_proxies_v1_oad_terms_and_conditions(self, data_row):\n        locationCode, offerId, sourceCode = data_row\n\n        # POST https://onboarding.usbank.com/proxies/v1/oad/terms-and-conditions (endp 76)\n        onboarding_usbank_com = get_http_client('https://onboarding.usbank.com', authenticate)\n        with open('data/payload_for_endp_76.json', 'r') as json_payload_file:\n            json_payload = json.load(json_payload_file)\n        apply_into_json(json_payload, '$.locationCode', locationCode)\n        apply_into_json(json_payload, '$.offerId', offerId)\n        apply_into_json(json_payload, '$.sourceCode', sourceCode)\n        resp = onboarding_usbank_com.post('/proxies/v1/oad/terms-and-conditions', json=json_payload, headers=dict([('x-requested-with', 'XMLHttpRequest')]))\n        resp.assert_status_code(200)\n\n",
 "40": "    @json_dataset('data/dataset_40.json')\n    @clear_session({'spanId': 40})\n    def test_40_post_proxies_v1_validateAddress(self, data_row):\n        description, offerTypeCode, param, productCode, sourceCode, subProductCode, subtype, usAddress, x_requested_with, zipCode = data_row\n\n        # POST https://onboarding.usbank.com/{param}/v1/applications (endp 37)\n        onboarding_usbank_com = get_http_client('https://onboarding.usbank.com', authenticate)\n        with open('data/payload_for_endp_37.json', 'r') as json_payload_file:\n            json_payload = json.load(json_payload_file)\n        apply_into_json(json_payload, '$.products[*].cardInformation.offerTypeCode', offerTypeCode)\n        apply_into_json(json_payload, '$.products[*].cardInformation.sourceCode', sourceCode)\n        apply_into_json(json_payload, '$.products[*].description', description)\n        apply_into_json(json_payload, '$.products[*].productCode', productCode)\n        apply_into_json(json_payload, '$.products[*].subProductCode', subProductCode)\n        apply_into_json(json_payload, '$.products[*].subtype', subtype)\n        resp = onboarding_usbank_com.post(f'/{param}/v1/applications', json=json_payload, headers=dict([('x-requested-with', x_requested_with)]))\n        resp.assert_status_code(201)\n        resp.assert_jsonpath('$.applicants[*].addresses.primary.country', expected_value='US')\n        securitytoken = get_data_from_header('securitytoken', resp)\n\n        # POST https://onboarding.usbank.com/proxies/v1/validateAddress (endp 40)\n        with open('data/payload_for_endp_40.json', 'r') as json_payload_file:\n            json_payload = json.load(json_payload_file)\n        apply_into_json(json_payload, '$.customerAddress.usAddress.*', usAddress)\n        apply_into_json(json_payload, '$.customerAddress.usAddress.zipCode', zipCode)\n        resp = onboarding_usbank_com.post('/proxies/v1/validateAddress', json=json_payload, headers=dict([('securitytoken', securitytoken), ('x-requested-with', 'X-Requested-With')]))\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$.address.city', expected_value='NEWARK')\n\n",
 "42": "    @clear_session({'spanId': 42})\n    def test_42_get_search_html(self):\n        # GET https://locations.usbank.com/search.html (endp 42)\n        locations_usbank_com = get_http_client('https://locations.usbank.com', authenticate)\n        resp = locations_usbank_com.get('/search.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='Location Search')\n\n",
 "44": "    @json_dataset('data/dataset_44.json')\n    @clear_session({'spanId': 44})\n    def test_44_get_search_param(self, data_row):\n        param, = data_row\n\n        # GET https://locations.usbank.com/search/{param} (endp 44)\n        locations_usbank_com = get_http_client('https://locations.usbank.com', authenticate)\n        resp = locations_usbank_com.get(f'/search/{param}', headers=dict([('x-requested-with', 'XMLHttpRequest')]))\n        resp.assert_status_code(200)\n        resp.assert_cssselect('div#searchRest div.searchResultsLocations div.cq-dd-pages h1.hidden-sm.hidden-xs', expected_value='Search Results')\n\n",
 "53": "    @clear_session({'spanId': 53})\n    def test_53_get_site_map_html(self):\n        # GET https://www.usbank.com/site-map.html (endp 53)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.get('/site-map.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('div#speedBumpModal div.modal-dialog div.modal-content div.modal-body.speedBump-body h3', expected_value='Leaving?')\n        resp.assert_cssselect('html head title', expected_value='Site map | U.S. Bank')\n\n",
 "54": "    @json_dataset('data/dataset_54.json')\n    @clear_session({'spanId': 54})\n    def test_54_get_svt_usbank_rpsfetchDisclosureContent(self, data_row):\n        disclosureTitles, = data_row\n\n        # GET https://www.usbank.com/svt/usbank/rpsfetchDisclosureContent (endp 54)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        qstr = '?' + urlencode([('disclosureTitles', disclosureTitles)])\n        resp = www_usbank_com.get('/svt/usbank/rpsfetchDisclosureContent' + qstr, headers=dict([('x-requested-with', 'XMLHttpRequest')]))\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$[*].status', expected_value='success')\n\n",
 "6": "    @json_dataset('data/dataset_6.json')\n    @clear_session({'spanId': 6})\n    def test_06_post_svt_usbank_shield_fetchDisclosureContent(self, data_row):\n        businessLines, disclosureTitles = data_row\n\n        # POST https://www.usbank.com/svt/usbank/shield/fetchDisclosureContent (endp 6)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.post('/svt/usbank/shield/fetchDisclosureContent', data=[('businessLines', businessLines), ('disclosureTitles', disclosureTitles)], headers=dict([('x-requested-with', 'XMLHttpRequest')]))\n        resp.assert_status_code(200)\n        resp.assert_jsonpath('$[*].status', expected_value='success')\n\n",
 "84": "    @clear_session({'spanId': 84})\n    def test_84_get_wealth_management_href(self):\n        # GET https://www.usbank.com/index.html (endp 4)\n        www_usbank_com = get_http_client('https://www.usbank.com', authenticate)\n        resp = www_usbank_com.get('/index.html')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('html head title', expected_value='Consumer banking | Personal banking | U.S. Bank')\n        href = url_part('/2', cssselect('div#navigation-menu-dropdown div.menu-scrolls ul.menu-list.menu-primary li.menu-item.menu-primary-item ul.menu-list.menu-secondary li.menu-item.menu-secondary-item ul.menu-list.menu-tertiary li.menu-item.menu-tertiary-item a.menu-link.menu-tertiary-link[href] @href', resp))\n\n        # GET https://www.usbank.com/wealth-management/{href} (endp 84)\n        resp = www_usbank_com.get(f'/wealth-management/{href}')\n        resp.assert_status_code(200)\n        resp.assert_cssselect('section.pubIns div.bodyContent.container-fluid div.row div div.aem-Grid div.containerComp.parbase.aem-GridColumn div.containerComponent.mediumPaddingTopDT.largePaddingRightDT.mediumPaddingBottomDT.largePaddingLeftDT.smallPaddingTopMob.smallPaddingRightMob.smallPaddingBottomMob.smallPaddingLeftMob.gray div div.aem-Grid div.aem-GridColumn div.xf-content-height div.aem-Grid div.containerComp.parbase.aem-GridColumn div.containerComponent div div.aem-Grid div.aem-GridColumn div.xf-content-height div.aem-Grid div.containerComp.parbase.aem-GridColumn div.containerComponent div div.aem-Grid div.containerComp.parbase.aem-GridColumn--default--none.aem-GridColumn div.containerComponent.noneTopDT.mediumPaddingRightDT.noneBottomDT.noneleftDT.noneTopMob.noneRightMob.noneBottomMob.noneleftMob.transparent div div.aem-Grid div.parbase.aem-GridColumn div.usbTextImage div.textimage-text.text.largePaddingBottomSeparator div p', expected_value='No minimum investment required')\n\n"
}