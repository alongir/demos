<a id="DA_127563482374" class="mosaic--tile__link flexible-ad" href="" lang="en-US">
    <span class='accessible-text'>Start of Topic</span>
</a>
<script>
  require(['slotplacement/topic', 'jquery'], function (Topic, $) {
    var $ad = $("#DA_127563482374");
    var adParentId=$ad.parent().attr('id');
    var  tripletImageAlt, adVariantContext;
    var imagePaths = {};
    Topic.subscribe('adUpdate', function (pageId, data) {
      injectAd(data);
    }); 
    Topic.subscribe('adError', function () {         
      injectAd({});
    });
    
    function tripletImageSrc (screenWidth, imagePaths, alt) {
      var size = "tablet";
      if(screenWidth >= 768) {
        size = "desktop"; 
      } else if (screenWidth <= 480) { 
        size = "mobile"; 
      } 

      var src = "src='"+imagePaths[size]+"'";
      var alt = " alt='" + alt + "'";
      return "<img " + src + alt + " />";
    }
    
    function injectAd(data){  
      var _a = data._a ? data._a.split(',') : [];
      function hA(a) {
        if ($.inArray(a, _a) > -1) {
          return true;
        }
        return false;
      }
      
      var rules = {};
      
        tripletLink = "https://account.chase.com/consumer/banking/seo";
        
          imagePaths["desktop"] = "/content/services/structured-image/image.desktop.jpg/XCRT/Flexible-Templates/Triplets/2021/july/003805_01_CH_225_cta_banners_Desktop_Triplet_384x280_FNL.jpg";
        
          imagePaths["tablet"] = "/content/services/structured-image/image.tablet.jpg/XCRT/Flexible-Templates/Triplets/2021/july/003805_01_CH_225_cta_banners_Desktop_Triplet_384x280_FNL.jpg";
        
          imagePaths["mobile"] = "/content/services/structured-image/image.mobile.jpg/XCRT/Flexible-Templates/Triplets/2021/july/003805_01_CH_225_cta_banners_Desktop_Triplet_384x280_FNL.jpg";
        
        tripletImageAlt = "Chase Total Checking(R). Enjoy two hundred and twenty five dollars. New Chase customers: Open a new Chase Total Checking(R) account and set up direct deposit. Open an account >>.";
        adVariantContext="tripletLinkId:default;tripletImageId:default";
      
      
      // Dynamic Ad Injection
      var screenWidth = window.innerWidth;
      $ad.append(tripletImageSrc(screenWidth, imagePaths, tripletImageAlt));
      $ad.attr("href", tripletLink);
      $ad.append("<span class='accessible-text'>End of Topic</span>");
      Topic('placementComplete').publish(adParentId,adVariantContext);
      $(window).on("resize", function () {
        var currentScreenWidth = window.innerWidth;
        if (currentScreenWidth !== screenWidth) { 
          screenWidth = currentScreenWidth; 
          $ad.find("img").remove(); 
          $ad.prepend(tripletImageSrc(screenWidth, imagePaths, tripletImageAlt)); 
        }
      });
    }
  });
</script>